# Тестовое задание для Backend разработчика

## Описание проекта

Это проект на NestJS с использованием Sequelize и PostgreSQL. В проекте присутствуют различные баги и проблемы, которые необходимо найти и исправить.

## Задача

1. Найти и исправить все баги в проекте
2. Обеспечить корректную работу приложения
3. Убедиться, что все endpoints работают правильно
4. Исправить проблемы с запуском приложения

## Время выполнения

**Рекомендуемое время: 6-8 часов**

### Примерное распределение времени:
- **Настройка и запуск проекта**: 1-2 часа
  - Установка зависимостей
  - Настройка базы данных
  - Решение проблем с запуском
  - Тестирование базовой функциональности
- **Поиск багов**: 2-3 часа
  - Анализ кода
  - Тестирование endpoints
  - Выявление различных типов багов
- **Исправление багов**: 2-3 часа
  - Исправление найденных проблем
  - Рефакторинг кода
  - Проверка работоспособности

**С дополнительными требованиями (тесты + Swagger): 10-12 часов**

Примечание: Время может варьироваться в зависимости от опыта разработчика и сложности найденных багов.

## Требования

- Node.js 18+
- PostgreSQL 12+
- npm или yarn

## Установка и запуск

1. Установите зависимости:
```bash
npm install
```

2. Настройте базу данных PostgreSQL и создайте файл `.env` на основе `.env.example`:
```bash
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_NAME=test_db
```

3. Запустите миграции:
```bash
npm run migrate
```

4. Запустите приложение:
```bash
npm run start:dev
```

Приложение должно запуститься на http://localhost:3000

## Структура проекта

```
src/
├── database/          # Конфигурация БД и миграции
├── users/            # Модуль пользователей
├── products/         # Модуль товаров
├── orders/           # Модуль заказов
├── app.module.ts     # Главный модуль
└── main.ts           # Точка входа
```

## API Endpoints

### Users
- `POST /users` - Создать пользователя
- `GET /users` - Получить всех пользователей
- `GET /users/:id` - Получить пользователя по ID
- `PATCH /users/:id` - Обновить пользователя
- `DELETE /users/:id` - Удалить пользователя

### Products
- `POST /products` - Создать товар
- `GET /products` - Получить все товары (с поиском через ?search=)
- `GET /products/:id` - Получить товар по ID
- `PATCH /products/:id` - Обновить товар
- `DELETE /products/:id` - Удалить товар

### Orders
- `POST /orders` - Создать заказ
- `GET /orders` - Получить все заказы
- `GET /orders/:id` - Получить заказ по ID
- `PATCH /orders/:id` - Обновить заказ
- `DELETE /orders/:id` - Удалить заказ
- `POST /orders/:id/cancel` - Отменить заказ

## Что нужно исправить

В проекте присутствуют различные типы багов:
- Проблемы с безопасностью (SQL injection, утечка данных)
- Логические ошибки
- Проблемы с транзакциями и race conditions
- Отсутствие валидации
- Проблемы с конфигурацией
- И другие...

## Примечания

- Все баги должны быть найдены и исправлены
- Код должен следовать best practices
- Необходимо обеспечить корректную обработку ошибок
- Убедитесь, что все endpoints работают правильно

## Дополнительные требования (желательно)

- **Покрытие тестами**: В идеале код должен быть покрыт unit и integration тестами. Используйте Jest для написания тестов.
- **Swagger документация**: Добавьте Swagger/OpenAPI документацию для всех API endpoints. Можно использовать `@nestjs/swagger` для автоматической генерации документации.

